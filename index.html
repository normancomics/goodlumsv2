<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Frame metadata -->
    <meta property="fc:frame" content="vNext">
    <meta property="fc:frame:image" content="https://turquoise-mobile-grasshopper-718.mypinata.cloud/ipfs/QmZPYccDUwX1yMyBFSJwwwRgaVX7FQqwTd1ZXxCZtmtjXv">
    <meta property="fc:frame:button:1" content="🧱⛓️✍🏽⚡️ CONNECT WALLET">
    <meta property="fc:frame:button:2" content="🌈💀🌵💥 MINT ON BASE">
    <meta property="fc:frame:button:3" content="🏰🧙🏿‍♂️🔮⚡️ MINT ON SANKO">
    <meta property="fc:frame:button:4" content="🧧💥⚡️ VIEW COLLECTION">
    <meta property="fc:frame:post_url" content="https://normancomics.github.io/goodlumsv2/api/frame">
    <meta property="fc:frame:state" content="initial">

    <!-- Web3 dependencies -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/5.7.2/ethers.umd.min.js"></script>

    <style>
        body {
            background: #000;
            color: #0f0;
            font-family: monospace;
            padding: 20px;
            margin: 0;
        }
        .container {
            border: 2px solid #0f0;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
            background: rgba(0, 0, 0, 0.9);
        }
        .button {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            background: transparent;
            border: 2px solid #0f0;
            color: #0f0;
            font-family: monospace;
            cursor: pointer;
        }
        .button:hover {
            background: rgba(0, 255, 0, 0.1);
        }
        @media (max-width: 600px) {
            .button {
                font-size: 14px;
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>THE GOODLUMS V2: BASED & SANKO-CODED</h1>

        <!-- Buttons -->
        <button class="button" id="button-1" aria-label="Connect Wallet">🧱⛓️✍🏽⚡️ CONNECT WALLET</button>
        <button class="button" id="button-2" aria-label="Mint on Base">🌈💀🌵💥 MINT ON BASE</button>
        <button class="button" id="button-3" aria-label="Mint on Sanko">🏰🧙🏿‍♂️🔮⚡️ MINT ON SANKO</button>
        <button class="button" id="button-4" aria-label="View Collection">🧧💥⚡️ VIEW COLLECTION</button>
    </div>

    <script>
        const postUrl = "https://normancomics.github.io/goodlumsv2/api/frame";

        // Add event listeners to buttons
        document.getElementById('button-1').addEventListener('click', () => postFrameState('connect_wallet'));
        document.getElementById('button-2').addEventListener('click', () => postFrameState('mint_base'));
        document.getElementById('button-3').addEventListener('click', () => postFrameState('mint_sanko'));
        document.getElementById('button-4').addEventListener('click', () => postFrameState('view_collection'));

        // Function to post state updates
        async function postFrameState(action) {
            try {
                const response = await fetch(postUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ state: action })
                });
                if (response.ok) {
                    console.log(`State updated to: ${action}`);
                } else {
                    console.error('Failed to update frame state');
                }
            } catch (error) {
                console.error('Error posting frame state:', error);
            }
        }
    </script>
</body>
</html>